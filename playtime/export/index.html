<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.90.0">
<meta name=description content="Prefech Documentation">
<meta name=author content="JokeDevil">
<link rel=icon href=/images/favicon.png type=image/png>
<title>Export :: Prefech Documentation</title>
<link href=/css/nucleus.css?1639149566 rel=stylesheet>
<link href=/css/fontawesome-all.min.css?1639149566 rel=stylesheet>
<link href=/css/hybrid.css?1639149566 rel=stylesheet>
<link href=/css/featherlight.min.css?1639149566 rel=stylesheet>
<link href=/css/perfect-scrollbar.min.css?1639149566 rel=stylesheet>
<link href=/css/auto-complete.css?1639149566 rel=stylesheet>
<link href=/css/atom-one-dark-reasonable.css?1639149566 rel=stylesheet>
<link href=/css/theme.css?1639149566 rel=stylesheet>
<link href=/css/tabs.css?1639149566 rel=stylesheet>
<link href=/css/hugo-theme.css?1639149566 rel=stylesheet>
<link href=/css/theme-blue.css?1639149566 rel=stylesheet>
<script src=/js/jquery-3.3.1.min.js?1639149566></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}</style>
</head>
<body data-url=/playtime/export/>
<nav id=sidebar class=showVisitedLinks>
<div id=header-wrapper>
<div id=header>
<a id=logo href=/>
<img src=https://prefech.com/i/icon3.png width=65% height=65%>
</a>
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script type=text/javascript src=/js/lunr.min.js?1639149566></script>
<script type=text/javascript src=/js/auto-complete.js?1639149566></script>
<script type=text/javascript>var baseurl="https://docs.prefech.com/"</script>
<script type=text/javascript src=/js/search.js?1639149566></script>
</div>
<section id=homelinks>
<ul>
<li>
<a class=padding href=/><i class="fas fa-home"></i> Home</a>
</li>
</ul>
</section>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/jd_logs/ title=JD_logs class=dd-item>
<a href=/jd_logs/>
JD_logs
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/jd_logs/requirments/ title=Requirements class=dd-item>
<a href=/jd_logs/requirments/>
Requirements
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/features/ title=Features class=dd-item>
<a href=/jd_logs/features/>
Features
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/commands/ title=Commands class=dd-item>
<a href=/jd_logs/commands/>
Commands
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/installation/ title=Installation class=dd-item>
<a href=/jd_logs/installation/>
Installation
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/config/ title=Configuration class=dd-item>
<a href=/jd_logs/config/>
Configuration
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/export/ title=Export class=dd-item>
<a href=/jd_logs/export/>
Export
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/hide/ title="No Player Export" class=dd-item>
<a href=/jd_logs/hide/>
No Player Export
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/single/ title="One Player Export" class=dd-item>
<a href=/jd_logs/single/>
One Player Export
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/dual/ title="Two Player Export" class=dd-item>
<a href=/jd_logs/dual/>
Two Player Export
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/jd_logs/embeds/ title=Embeds class=dd-item>
<a href=/jd_logs/embeds/>
Embeds
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/notify/ title=Notify class=dd-item>
<a href=/notify/>
Notify
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/notify/requirments/ title=Requirements class=dd-item>
<a href=/notify/requirments/>
Requirements
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/notify/features/ title=Features class=dd-item>
<a href=/notify/features/>
Features
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/notify/export/ title=Export class=dd-item>
<a href=/notify/export/>
Export
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/playtime/ title=PlayTime class="dd-item
parent">
<a href=/playtime/>
PlayTime
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/playtime/requirments/ title=Requirements class=dd-item>
<a href=/playtime/requirments/>
Requirements
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/playtime/features/ title=Features class=dd-item>
<a href=/playtime/features/>
Features
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/playtime/commands/ title=Commands class=dd-item>
<a href=/playtime/commands/>
Commands
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/playtime/export/ title=Export class="dd-item active">
<a href=/playtime/export/>
Export
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
</ul>
<section id=shortcuts>
<h3>More</h3>
<ul>
<li>
<a class=padding href=https://github.com/Prefech/><i style=color:#2196f3 class="fab fa-github"></i> GitHub</a>
</li>
<li>
<a class=padding href=https://discord.gg/prefech><i style=color:#7289da class="fab fa-discord"></i> Discord</a>
</li>
<li>
<a class=padding href=https://www.patreon.com/prefech><i style=color:#f96854 class="fab fa-patreon"></i> Patreon</a>
</li>
<li>
<a class=padding href=https://prefech.com/><i style=color:#2196f3 class="fas fa-globe"></i> Website</a>
</li>
<li>
<a class=padding href=https://twitter.com/Prefech_/><i style=color:#2196f3 class="fab fa-twitter"></i> Twitter</a>
</li>
</ul>
</section>
<section id=prefooter>
<hr>
<ul>
<li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li>
</ul>
</section>
<section id=footer>
<p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p>
</section>
</div>
</nav>
<section id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div>
<div id=top-bar>
<div id=top-github-link>
<a class=github-link title="Edit this page" href=https://github.com/Prefech/Prefech/tree/master/content/PlayTime/export.md target=blank>
<i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span>
</a>
</div>
<div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>
<a href=/>Prefech Documentation</a> > <a href=/playtime/>PlayTime</a> > Export
</span>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#usage-examples>Usage Examples</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div id=head-tags>
</div>
<div id=body-inner>
<h1>
Export
</h1>
<p>The export will return a table with the player’s session time and the player’s total play time.
For example source is the player id and we want to check their time played on the server.
We will run the export in our function like this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=color:#66d9ef>local</span> playtime <span style=color:#f92672>=</span> exports.Prefech_PlayTime:getPlayTime(source)
</code></pre></div><p>Now the variable playtime will be a table.
The table will include both the session and total playtime.</p>
<ul>
<li>Session time in the table is named Session</li>
<li>Total playtime in the table is named Total</li>
</ul>
<p>The table returns the Total and Session playtime in seconds.</p>
<p>To get the playtime you simply have to grab the value from the table and check if it has been at least 5 minutes since they connected.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=color:#66d9ef>if</span> playtime.Session <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>300</span> <span style=color:#66d9ef>then</span>
  print(<span style=color:#e6db74>&#39;They have been online for 5 minutes or longer&#39;</span>)
<span style=color:#66d9ef>else</span>
  print(<span style=color:#e6db74>&#39;They have been online less than 5 minutes&#39;</span>)
<span style=color:#66d9ef>end</span>
</code></pre></div><p>Now i used 300 since that is 5 minutes in seconds.
The export returns the playtime in seconds so you can convert it to minutes or hours.</p>
<p>Now to put it together our code will look like this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=color:#66d9ef>local</span> playtime <span style=color:#f92672>=</span> exports.Prefech_PlayTime:getPlayTime(source)
<span style=color:#66d9ef>if</span> playtime.Session <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>300</span> <span style=color:#66d9ef>then</span>
  print(<span style=color:#e6db74>&#39;They have been online for 5 minutes or longer&#39;</span>)
<span style=color:#66d9ef>else</span>
  print(<span style=color:#e6db74>&#39;They have been online less than 5 minutes&#39;</span>)
<span style=color:#66d9ef>end</span>
</code></pre></div><h3 id=usage-examples>Usage Examples</h3>
<h5 id=client-side-total-playtime-example>Client side total playtime example</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua>RegisterNetEvent(<span style=color:#e6db74>&#39;PlayTimeCheck&#39;</span>)
AddEventHandler(<span style=color:#e6db74>&#39;PlayTimeCheck&#39;</span>, <span style=color:#66d9ef>function</span>()
    <span style=color:#66d9ef>if</span> exports.Prefech_PlayTime:getPlayTime(GetPlayerServerId(PlayerId())).Total <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>600</span> <span style=color:#66d9ef>then</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
    <span style=color:#66d9ef>else</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
    <span style=color:#66d9ef>end</span>
<span style=color:#66d9ef>end</span>)
</code></pre></div><h5 id=server-side-total-playtime-example>Server side total playtime example</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua>RegisterNetEvent(<span style=color:#e6db74>&#39;PlayTimeCheck&#39;</span>)
AddEventHandler(<span style=color:#e6db74>&#39;PlayTimeCheck&#39;</span>, <span style=color:#66d9ef>function</span>()
    <span style=color:#66d9ef>if</span> exports.Prefech_PlayTime:getPlayTime(source).Total <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>600</span> <span style=color:#66d9ef>then</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
    <span style=color:#66d9ef>else</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
    <span style=color:#66d9ef>end</span>
<span style=color:#66d9ef>end</span>)
</code></pre></div><h5 id=client-side-session-playtime-example>Client side session playtime example</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua>RegisterNetEvent(<span style=color:#e6db74>&#39;PlayTimeCheck&#39;</span>)
AddEventHandler(<span style=color:#e6db74>&#39;PlayTimeCheck&#39;</span>, <span style=color:#66d9ef>function</span>()
    <span style=color:#66d9ef>if</span> exports.Prefech_PlayTime:getPlayTime(GetPlayerServerId(PlayerId())).Session <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>600</span> <span style=color:#66d9ef>then</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
    <span style=color:#66d9ef>else</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
    <span style=color:#66d9ef>end</span>
<span style=color:#66d9ef>end</span>)
</code></pre></div><h5 id=server-side-session-playtime-example>Server side session playtime example</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua>RegisterNetEvent(<span style=color:#e6db74>&#39;PlayTimeCheck&#39;</span>)
AddEventHandler(<span style=color:#e6db74>&#39;PlayTimeCheck&#39;</span>, <span style=color:#66d9ef>function</span>()
    <span style=color:#66d9ef>if</span> exports.Prefech_PlayTime:getPlayTime(source).Session <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>600</span> <span style=color:#66d9ef>then</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
    <span style=color:#66d9ef>else</span>
        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
    <span style=color:#66d9ef>end</span>
<span style=color:#66d9ef>end</span>)
</code></pre></div>
<footer class=footline>
</footer>
</div>
</div>
<div id=navigation>
<a class="nav nav-prev" href=/playtime/commands/ title=Commands> <i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/playtime/requirments/ title=Requirements style=margin-right:0><i class="fa fa-chevron-right"></i></a>
</div>
</section>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=/js/clipboard.min.js?1639149566></script>
<script src=/js/perfect-scrollbar.min.js?1639149566></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1639149566></script>
<script src=/js/jquery.sticky.js?1639149566></script>
<script src=/js/featherlight.min.js?1639149566></script>
<script src=/js/highlight.pack.js?1639149566></script>
<script>hljs.initHighlightingOnLoad()</script>
<script src=/js/modernizr.custom-3.6.0.js?1639149566></script>
<script src=/js/learn.js?1639149566></script>
<script src=/js/hugo-learn.js?1639149566></script>
<script src=/mermaid/mermaid.js?1639149566></script>
<script>mermaid.initialize({startOnLoad:!0})</script>
</body>
</html>